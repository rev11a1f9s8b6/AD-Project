@using AD_Project_Iteration_1_Main.Models_DB;
@model IEnumerable<AD_Project_Iteration_1_Main.Models_DB.Emp_Request>
@{
    ViewBag.Title = "ViewRequest";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var User = (Employee)ViewData["USER"];    // mandatory Filds
    var sessionId = (string)ViewData["SessionId"];  //mandatory fields
}

<h2>Pending Stationary Requests</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Employee.Full_Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Approved_By)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date_Approved)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Recieved_By)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Date_Recieved)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Comment)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Status)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Employee.Full_Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Approved_By)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Date_Approved)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Recieved_By)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Date_Recieved)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Comment)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Status)
            </td>
            <td>
                @Html.ActionLink("Details", "Details", new { sessionId = sessionId, id = @item.Emp_Req_Id }) |

                @Html.ActionLink("Accept", "ManageRequest", new { sessionId = sessionId, id = @item.Emp_Req_Id, comments = "NA" ,type="ACCEPT"}) |

                @Html.ActionLink("Reject", "ManageRequest", new { sessionId = sessionId, id = @item.Emp_Req_Id, comments = "NA",type="REJECT" })
            </td>
        </tr>
    }

</table>